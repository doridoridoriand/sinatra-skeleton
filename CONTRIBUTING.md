# コントリビューションガイド

Sinatra Skeletonプロジェクトへの貢献を検討いただき、ありがとうございます！このガイドでは、プロジェクトに貢献する際の手順とガイドラインを説明します。

## 目次

- [行動規範](#行動規範)
- [貢献の方法](#貢献の方法)
- [開発環境のセットアップ](#開発環境のセットアップ)
- [コーディング規約](#コーディング規約)
- [コミットメッセージの規約](#コミットメッセージの規約)
- [プルリクエストのプロセス](#プルリクエストのプロセス)
- [コードレビューのガイドライン](#コードレビューのガイドライン)

## 行動規範

このプロジェクトに参加するすべての人は、敬意を持って協力的に行動することが期待されます：

- 建設的なフィードバックを提供する
- 他の貢献者の意見を尊重する
- プロジェクトの目標に焦点を当てる
- 初心者にも親切に対応する

## 貢献の方法

プロジェクトへの貢献方法はいくつかあります：

### バグ報告

バグを見つけた場合：

1. 既存のIssueで同じ問題が報告されていないか確認
2. 新しいIssueを作成し、以下の情報を含める：
   - バグの説明
   - 再現手順
   - 期待される動作
   - 実際の動作
   - 環境情報（Rubyバージョン、OSなど）

### 機能提案

新機能のアイデアがある場合：

1. Issueを作成して提案内容を説明
2. なぜその機能が必要か、どのような問題を解決するかを明確に
3. 可能であれば、実装案も含める

### ドキュメントの改善

ドキュメントの誤りや不足に気づいた場合：

1. 該当箇所を修正したプルリクエストを作成
2. または、Issueを作成して改善点を報告

### コードの貢献

コードを貢献する場合は、以下のセクションを参照してください。

## 開発環境のセットアップ

1. リポジトリをフォーク
2. フォークをローカルにクローン：

```bash
git clone https://github.com/YOUR_USERNAME/sinatra-skeleton.git
cd sinatra-skeleton
```

3. 依存関係をインストール：

```bash
bundle config set --local path '.bundle/gems'
bundle install --jobs 4
```

4. 環境変数を設定：

```bash
cp .env.example .env
```

5. 開発サーバーを起動：

```bash
bundle exec guard -i
```

6. テストが通ることを確認：

```bash
bundle exec rspec
```

## コーディング規約

### Ruby コーディングスタイル

- インデントは2スペース（タブではなくスペースを使用）
- 行の長さは80-100文字以内を推奨
- 命名規則：
  - クラス名: `PascalCase`
  - メソッド名、変数名: `snake_case`
  - 定数: `UPPER_SNAKE_CASE`

### コードの品質

- 複雑なロジックには適切なコメントを追加
- 可読性を重視したコードを書く
- DRY原則（Don't Repeat Yourself）を心がける
- 新しい機能には必ずテストを追加

### テンプレート（Slim）

- インデントは2スペース
- HTMLタグは小文字で記述
- 属性は論理的な順序で記述（id、class、その他）

### スタイル（Sass）

- インデントは2スペース
- セレクタのネストは3階層まで
- 変数名は意味のある名前を使用

## コミットメッセージの規約

明確で一貫性のあるコミットメッセージを使用してください：

### フォーマット

```
<type>: <subject>

<body>

<footer>
```

### Type（種類）

- `feat`: 新機能の追加
- `fix`: バグ修正
- `docs`: ドキュメントのみの変更
- `style`: コードの動作に影響しない変更（フォーマット、セミコロンなど）
- `refactor`: リファクタリング
- `test`: テストの追加・修正
- `chore`: ビルドプロセスやツールの変更

### Subject（件名）

- 50文字以内
- 命令形で記述（例：「追加した」ではなく「追加」）
- 最初の文字は大文字にしない
- 末尾にピリオドを付けない

### 例

```
feat: ユーザー認証機能を追加

- セッション管理を実装
- ログイン/ログアウト機能を追加
- パスワードのハッシュ化を実装

Closes #123
```

```
fix: ダッシュボードの表示バグを修正

開発環境でのみデータを表示するように条件を追加

Fixes #456
```

## プルリクエストのプロセス

1. **ブランチの作成**

```bash
git checkout -b feature/your-feature-name
# または
git checkout -b fix/bug-description
```

2. **変更の実装**
   - コーディング規約に従う
   - 必要に応じてテストを追加
   - テストが通ることを確認

3. **コミット**
   - 論理的な単位でコミット
   - コミットメッセージの規約に従う

4. **プルリクエストの作成**
   - 明確なタイトルと説明を記載
   - 関連するIssue番号を含める（例：`Closes #123`）
   - 変更内容の概要を説明
   - スクリーンショット（UI変更の場合）

5. **プルリクエストのテンプレート**

```markdown
## 概要
この変更の目的を簡潔に説明してください。

## 変更内容
- 変更点1
- 変更点2
- 変更点3

## 関連Issue
Closes #123

## テスト
テスト方法や確認項目を記載してください。

## スクリーンショット
（該当する場合）

## チェックリスト
- [ ] コーディング規約に従っている
- [ ] テストを追加/更新した
- [ ] テストが通ることを確認した
- [ ] ドキュメントを更新した（必要な場合）
```

## コードレビューのガイドライン

### レビュアー向け

- 建設的なフィードバックを提供
- 具体的な改善案を示す
- 些細な問題と重要な問題を区別する
- 良い点も指摘する

### 著者向け

- フィードバックを前向きに受け止める
- 質問や不明点は遠慮なく聞く
- すべてのコメントに返信する
- 必要に応じて変更を加える

### レビューの観点

- **機能性**: 意図した通りに動作するか
- **コード品質**: 読みやすく、保守しやすいか
- **テスト**: 適切なテストがあるか
- **セキュリティ**: セキュリティ上の問題はないか
- **パフォーマンス**: パフォーマンスに悪影響はないか
- **ドキュメント**: 必要なドキュメントは更新されているか

## 質問やサポート

質問や不明点がある場合：

1. まずREADME.mdとドキュメントを確認
2. 既存のIssueで同じ質問がないか検索
3. 新しいIssueを作成して質問

## ライセンス

プロジェクトに貢献することで、あなたの貢献がプロジェクトのライセンス（MIT License）の下でライセンスされることに同意したものとみなされます。

---

ご協力ありがとうございます！あなたの貢献がこのプロジェクトをより良いものにします。
